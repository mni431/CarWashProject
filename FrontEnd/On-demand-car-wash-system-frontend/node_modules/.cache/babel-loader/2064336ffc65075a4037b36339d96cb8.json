{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AKANTKUS\\\\Desktop\\\\Car Wash Ui\\\\On-demand-car-wash-system-frontend\\\\src\\\\components\\\\pages\\\\Washerlog.js\";\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom'; // const WasherLogin = () => {\n//     let navigate = useNavigate();\n//     return (\n//         <div>\n//             <h1 className='text-center'>WASHER LOGIN</h1>\n//             <div className=\"formDetails\">\n//                 <input type=\"text\" placeholder='name' /><br /><br />\n//                 <input type=\"password\" placeholder='password' />\n//                 <br />\n//                 <button className=\"bookBtn\" onClick={() => { navigate('/washerhome') }}>Submit <i className=\"fas fa-arrow-right rightArw\"></i></button>\n//             </div>\n//         </div>\n//     )\n// }\n// export default WasherLogin;\n\nfunction WasherLogin() {\n  const [loginForm, setLoginForm] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const navigate = useNavigate();\n\n  const handleChange = event => {\n    setLoginForm(loginForm => ({ ...loginForm,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const handleSubmit = event => {\n    //validation login form\n    let errors = {};\n\n    if (!loginForm.username) {\n      errors[\"usernameErr\"] = \"Username is required\";\n    }\n\n    if (!loginForm.password) {\n      errors[\"passwordErr\"] = \"Password is required\";\n    }\n\n    setFormErrors(errors);\n    const noErrors = Object.keys(errors).length === 0; // if no errors call the login api\n\n    if (noErrors) {\n      let payload = {\n        username: loginForm.username,\n        password: loginForm.password\n      }; // http://localhost:9003/farmer/farmer-login?password=ajay%40123&username=ajubabu\n\n      axios.post(\"http://localhost:9003/farmer/farmer-login?password=\" + loginForm.password + \"&username=\" + loginForm.username, payload).then(resp => {\n        console.log(resp.data);\n        alert(\"Welcome \" + resp.data.userName); //..............................\n        //local storage for admin details\n\n        let farmer = {\n          farmerId: resp.data.farmerId,\n          userName: resp.data.userName\n        };\n        localStorage.setItem(\"myUser\", JSON.stringify(farmer)); //...........................\n\n        navigate(\"/farmer/dashboard\");\n      }).catch(error => {\n        console.log(error.response);\n        alert(\"login failed\");\n      });\n    }\n\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title1a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"LOGIN\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"  Enter Username\",\n    value: username,\n    onChange: handleName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), nameErr && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Enter valid name\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"password\",\n    value: pass,\n    onChange: handlePass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), passErr && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, \"Enter valid password\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Btn\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, \"Submit\")));\n}\n\n;\nexport default WasherLogin;","map":{"version":3,"sources":["C:/Users/AKANTKUS/Desktop/Car Wash Ui/On-demand-car-wash-system-frontend/src/components/pages/Washerlog.js"],"names":["React","useNavigate","WasherLogin","loginForm","setLoginForm","useState","username","password","formErrors","setFormErrors","navigate","handleChange","event","target","name","value","handleSubmit","errors","noErrors","Object","keys","length","payload","axios","post","then","resp","console","log","data","alert","userName","farmer","farmerId","localStorage","setItem","JSON","stringify","catch","error","response","preventDefault","handleName","nameErr","pass","handlePass","passErr","handleClick"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\n// const WasherLogin = () => {\r\n//     let navigate = useNavigate();\r\n//     return (\r\n//         <div>\r\n//             <h1 className='text-center'>WASHER LOGIN</h1>\r\n//             <div className=\"formDetails\">\r\n//                 <input type=\"text\" placeholder='name' /><br /><br />\r\n//                 <input type=\"password\" placeholder='password' />\r\n//                 <br />\r\n//                 <button className=\"bookBtn\" onClick={() => { navigate('/washerhome') }}>Submit <i className=\"fas fa-arrow-right rightArw\"></i></button>\r\n//             </div>\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n// export default WasherLogin;\r\n\r\n\r\nfunction WasherLogin() {\r\n\r\n  const [loginForm, setLoginForm] = useState({\r\n      username: \"\",\r\n      password: \"\"\r\n  })\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (event) => {\r\n      setLoginForm(loginForm => ({ ...loginForm, [event.target.name]: event.target.value }));\r\n  }\r\n  const handleSubmit = (event) => {\r\n    //validation login form\r\n    let errors = {};\r\n    if (!loginForm.username) {\r\n        errors[\"usernameErr\"] = \"Username is required\"\r\n    }\r\n    if (!loginForm.password) {\r\n\r\n        errors[\"passwordErr\"] = \"Password is required\"\r\n    }\r\n    setFormErrors(errors);\r\n    const noErrors = Object.keys(errors).length === 0;\r\n    // if no errors call the login api\r\n    if (noErrors) {\r\n        let payload = {\r\n            username: loginForm.username,\r\n            password: loginForm.password\r\n        }\r\n  // http://localhost:9003/farmer/farmer-login?password=ajay%40123&username=ajubabu\r\n  axios\r\n  .post(\r\n    \"http://localhost:9003/farmer/farmer-login?password=\"+loginForm.password+\"&username=\"+loginForm.username,\r\n    payload).then(resp => {\r\n      console.log(resp.data);\r\n      alert(\"Welcome \" + resp.data.userName);\r\n      //..............................\r\n      //local storage for admin details\r\n      let farmer={\r\n        farmerId:resp.data.farmerId,\r\n        userName: resp.data. userName\r\n      }\r\n     localStorage.setItem(\"myUser\",JSON.stringify(farmer));\r\n      //...........................\r\n      navigate(\"/farmer/dashboard\");\r\n    }).catch(error => {\r\n        console.log(error.response);\r\n        alert(\"login failed\");\r\n    })\r\n}\r\nevent.preventDefault();\r\n\r\n}\r\n    return (\r\n      <div>\r\n        <h1 className=\"title1a\">LOGIN</h1>\r\n        <div className=\"loginForm\">\r\n          <div className=\"name\">\r\n            <label>Username</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"  Enter Username\"\r\n              value={username}\r\n              onChange={handleName}\r\n            />\r\n            <br></br>\r\n            {nameErr && <span>Enter valid name</span>}\r\n            <br />\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n              value={pass}\r\n              onChange={handlePass}\r\n            />\r\n            <br></br>\r\n            {passErr && <span>Enter valid password</span>}\r\n          </div>\r\n          <br />\r\n  \r\n          <button className=\"Btn\" onClick={handleClick}>\r\n            Submit\r\n          </button>\r\n        \r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default WasherLogin;\r\n  "]},"metadata":{},"sourceType":"module"}